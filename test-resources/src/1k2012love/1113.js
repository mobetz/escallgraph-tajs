with(a)with(Math){a.F=fillRect;a.T=translate;o=window,h=c.height=o.innerHeight,w=c.width=o.innerWidth,x=t=w/2,y=j=h/2,u=v=r=0,n=.25*PI,z="#000",q="#800",R=random,I=floor,G=function(a){globalCompositeOperation=a||"source-over"},L=function(b,a){fillStyle=b;a&&(globalAlpha=a)},H=function H(a){beginPath();g=-a*.675;e=.71;arc(-e*a,g,a,-5*n,-n);arc(e*a,g,a,-3*n,n);lineTo(0,2.2*a+g);fill()};function N(a){return a*(R()-.5)}F(0,0,w,h);T(t,j);L("#fff",.1);for(i=0,l=66,k=h/4,s=k/l/2;i<l;i++){i==22&&L(z);H(k-i*s)}p=createRadialGradient(0,0,0,0,0,.7*h);p.s=p.addColorStop;p.s(0,"#400");p.s(.43,q);p.s(1,z);L(p,1);G("lighter");F(-t,-j,w,h);d=getImageData(0,0,w,h).data;G();L(q,1);F(-t,-j,w,h);L(p,.2);F(-t,-j,w,h);F=function(){G(R()<.5?"lighter":0);k=I(x);s=I(y);m=d[4*(s*w+k)];L("#"+I(R()*2e7).toString(16),.02+m/888);T(x,y);rotate(r+=N(9));H(1+m*m*h/5e6+3*R());l=.3+m/255;u=.99*(u+.3*(m-d[4*(s*w+(k-1+w)%w)])+N(l));v=.99*(v+.3*(m-d[4*((s-1+h)%h*w+k)])+N(l));x=(x+u+w)%w;y=(y+v+h)%h;setTransform(1,0,0,1,0,0);setTimeout(F,20)};F()}